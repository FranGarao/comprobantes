<form class="form-ctn" [formGroup]="invoicesForm" *ngIf="invoicesForm" (ngSubmit)="submit()">
    <h3>Generar Comprobante</h3>
    <div>
        <div class="input-ctn row">
            <label>N°</label>
            <input placeholder="Codigo" readonly type="number" value="{{lastInvoice}}" formControlName="id">
        </div>
        <div class="input-ctn row">
            <label>Trabajo</label>
            <div *ngFor="let x of selectedJobs">
                <select formControlName="job">
                    <option (click)="selectJob()" *ngFor="let job of jobs" [value]="job?.id" title="job?.name"
                        id="job.id">
                        {{ job?.name }}
                    </option>
                </select>
            </div>
        </div>
        <div class="input-ctn row" *ngIf="newJobExist">
            <label>Nuevo Trabajo</label>
            <input (change)="saveJob()" #newJob type="text" placeholder="Ingrese nuevo trabajo">
        </div>
        <div class="input-ctn row">
            <label>Fecha de entrega</label>
            <input placeholder="Fecha de Entrega" type="date" formControlName="deliveryDate">
        </div>
        <!-- <div class="input-ctn row">
            <label>Nombre</label>
            <input placeholder="Nombre" formControlName="name">
        </div> -->
        <select formControlName="customer">
            <option (click)="setCustomer(c?.name, c?.lastName, c?.phone)" *ngFor="let c of customers" [value]="c?.id">
                {{c?.name}}
                {{c?.lastName}}
            </option>
        </select>
        <div class="input-ctn row">
            <label>Telefono</label>
            <input placeholder="Telefono" readonly type="number" inputmode="numeric" value="" formControlName="phone">
        </div>
        <div class="input-ctn row">
            <label>Total</label>
            <input placeholder="Total" type="number" inputmode="numeric" [value]="selectedJob?.price"
                formControlName="total">
        </div>
        <div class="input-ctn row">
            <label>Seña</label>
            <input placeholder="Sena" type="number" inputmode="numeric" formControlName="deposit"
                (change)="setBalance()">
        </div>
        <div class="input-ctn row">
            <label>Saldo</label>
            <input placeholder="Saldo" type="number" inputmode="numeric" [value]="balance" formControlName="balance">
        </div>
    </div>
    <div class="form-footer">
        <input class="submit" type="submit" value="Generar">
        <button [cdkMenuTriggerFor]="printMenu" class="print-btn">
            <mat-icon>print</mat-icon>
            Imprimir
        </button>
        <ng-template #printMenu>
            <div class="example-menu" cdkMenu>
                <button (click)="printInvoice(0)" class="example-menu-item" cdkMenuItem>Comprobante Cliente</button>
                <button (click)="printInvoice(1)" class="example-menu-item" cdkMenuItem>Comprobante Negocio</button>
                <button (click)="printInvoice(2)" class="example-menu-item" cdkMenuItem>Comprobante Simple</button>
            </div>
        </ng-template>
    </div>
</form>